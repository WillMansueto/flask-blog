{% extends 'base.html' %}

{% block content %}

{% for message in get_flashed_messages() %}
    <article class="message is-success">
        <div class="message-body">
            <p>{{ message }}</p>
        </div>
    </article>
{% endfor %}

    <h1 class='title'>What's your name?</h1>
    <br/>
    <form method="POST">
        <div class='field'>
        {{ form.hidden_tag() }}
        {{ form.name.label(class='label') }}
        {{ form.name(class='input') }}
        </div>
        <div class='field'>
        {{ form.email.label(class='label') }}
        {{ form.email(class='input') }}
        </div>
        <div class='field'>
        {{ form.favorite_color.label(class='label') }}
        {{ form.favorite_color(class='input') }}
        </div>
        <div class='field'>
        {{ form.password_hash.label(class='label') }}
        {{ form.password_hash(class='input') }}
        </div>
        <div class='field'>
        {{ form.password_hash2.label(class='label') }}
        {{ form.password_hash2(class='input') }}
        </div>
        <div class="field">
        {{ form.submit(class='button') }}
        </div>
    </form>
    <br/><br/>


<table class="table">
	<thead>
		<tr>
			<th>id</th>
			<th>name</th>
			<th>email</th>
			<th>favorite color</th>
            <th>password </th>
            <th> </th>
		</tr>
	</thead>
	<tbody>
{% for our_user in our_users %}
		<tr>
            <th>{{ our_user.id }}</th>
            <td><a href="{{ url_for('update', id=our_user.id) }}">{{ our_user.name }}</a></td>
            <td>{{ our_user.email }}</td>
            <td>{{ our_user.favorite_color }}</td>
            <td>{{ our_user.password_hash }}</td>
            <td><a href="{{ url_for('delete', id=our_user.id) }}">delete</a></td>
		</tr>
{% endfor %}
	</tbody>
</table>

{% endblock %}
